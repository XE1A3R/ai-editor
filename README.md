# üé¨ Highlight Generator - –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è –≤–∏–¥–µ–æ—Ö–∞–π–ª–∞–π—Ç–æ–≤

**–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Ö–∞–π–ª–∞–π—Ç–æ–≤ –∏–∑ –≤–∏–¥–µ–æ** –ø—É—Ç–µ–º –∞–Ω–∞–ª–∏–∑–∞ –∞—É–¥–∏–æ –∏ –≤–∏–∑—É–∞–ª—å–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π. –ü—Ä–æ–µ–∫—Ç –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∫–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã (–≥—Ä–æ–º–∫–∏–µ –∑–≤—É–∫–∏, —Ä–µ—á—å, –¥–≤–∏–∂–µ–Ω–∏–µ, –∏–≥—Ä–æ–≤—ã–µ —Å–æ–±—ã—Ç–∏—è) –∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∏—Ç–æ–≥–æ–≤–æ–µ –≤–∏–¥–µ–æ –∏–∑ –Ω–∞–∏–±–æ–ª–µ–µ –∑–Ω–∞—á–∏–º—ã—Ö —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤ —Å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏.

## üåü –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üéôÔ∏è –£–ª—É—á—à–µ–Ω–Ω—ã–π –∞—É–¥–∏–æ–∞–Ω–∞–ª–∏–∑
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ—Ä–æ–≥–æ–≤ –≥—Ä–æ–º–∫–æ—Å—Ç–∏
- –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä–µ—á–µ–≤–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (VAD)
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∞–Ω–∞–ª–∏–∑–∞ –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
- –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–≤—É–∫–æ–≤—ã—Ö –∏ —Ä–µ—á–µ–≤—ã—Ö —Å–æ–±—ã—Ç–∏–π

### üìπ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤–∏–¥–µ–æ–∞–Ω–∞–ª–∏–∑
- –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –¥–µ—Ç–µ–∫—Ü–∏—è –¥–≤–∏–∂–µ–Ω–∏—è —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –ø–æ—Ä–æ–≥–æ–º
- –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –±–ª–∏–∑–∫–∏—Ö —Å–æ–±—ã—Ç–∏–π –¥–≤–∏–∂–µ–Ω–∏—è
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∞–ø–ø–∞—Ä–∞—Ç–Ω–æ–≥–æ —É—Å–∫–æ—Ä–µ–Ω–∏—è GPU

### ‚öôÔ∏è –ì–∏–±–∫–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ —Å–æ–±—ã—Ç–∏–π
- –ö–æ–Ω—Ç—Ä–æ–ª—å –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∫–ª–∏–ø–æ–≤ —á–µ—Ä–µ–∑ Highlight Padding
- –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è —á–µ—Ä–µ–∑ Codec Args
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –º–µ–∂–¥—É –∫–ª–∏–ø–∞–º–∏

### üöÄ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤–∏–¥–µ–æ —Å–µ–≥–º–µ–Ω—Ç–æ–≤
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ CPU/GPU
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–µ–≤—å—é-–≤–∏–¥–µ–æ

## ‚öôÔ∏è –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

1. **Go** (–≤–µ—Ä—Å–∏—è 1.16 –∏–ª–∏ –≤—ã—à–µ)
2. **FFmpeg** (—Å–±–æ—Ä–∫–∞ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π CUDA –¥–ª—è –∞–ø–ø–∞—Ä–∞—Ç–Ω–æ–≥–æ —É—Å–∫–æ—Ä–µ–Ω–∏—è)
3. **–î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–µ –¥–∏—Å–∫–æ–≤–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ** (–¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤)
4. **–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è**:
   - NVIDIA GPU (–¥–ª—è –∞–ø–ø–∞—Ä–∞—Ç–Ω–æ–≥–æ —É—Å–∫–æ—Ä–µ–Ω–∏—è)
   - 8+ –ì–ë –û–ó–£
   - –ú–Ω–æ–≥–æ—è–¥–µ—Ä–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä

## üì• –ó–∞–ø—É—Å–∫
```bash
./ai-editor -input input_video.mp4 [-config config.json] [-output output_name]
```

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- –ü—Ä–∏–º–µ—Ä —Ñ–∞–π–ª–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:
```json
{
  "audio_auto_threshold": true,
  "motion_auto_threshold": true,
  "audio_threshold": -40.0,
  "motion_threshold": 0.04,
  "speech_threshold_multiplier": 5.0,
  "min_speech_duration": 0.3,
  "min_silence_duration": 0.3,
  "max_speech_gap": 0.5,
  "speech_detection": true,
  "noise_floor": -60.0,
  "game_events_enabled": false,
  "highlight_padding": 1.0,
  "Codec_Args": ["-c:v", "h264_nvenc", "-preset", "fast"],
  "gpu_acceleration": ["-hwaccel", "cuda", "-hwaccel_output_format", "cuda"],
  "output_dir": "output",
  "temp_dir": "temp",
  "preview_generation": false,
  "transition_duration": 1.0
}
```


- –ö–ª—é—á–µ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
| -------- | --- | -------- |
| gpu_acceleration | []string	| –ê—Ä–≥—É–º–µ–Ω—Ç—ã –¥–ª—è –∞–ø–ø–∞—Ä–∞—Ç–Ω–æ–≥–æ —É—Å–∫–æ—Ä–µ–Ω–∏—è (CUDA, VAAPI –∏ –¥—Ä.) |
| Codec_Args | []string |	–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–¥–µ–∫–∞ –¥–ª—è FFmpeg |
| audio_auto_threshold | bool	| –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ—Ä–æ–≥–∞ –∑–≤—É–∫–∞ |
|motion_auto_threshold | bool	| –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ—Ä–æ–≥–∞ –¥–≤–∏–∂–µ–Ω–∏—è |
| highlight_padding | float | –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –≤–æ–∫—Ä—É–≥ —Å–æ–±—ã—Ç–∏–π (–≤ —Å–µ–∫—É–Ω–¥–∞—Ö) |
| transition_duration | | float | –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –º–µ–∂–¥—É –∫–ª–∏–ø–∞–º–∏ |
| preview_generation | bool | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —É—Å–∫–æ—Ä–µ–Ω–Ω–æ–≥–æ –ø—Ä–µ–≤—å—é-–≤–∏–¥–µ–æ |


## üõ† –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

```mermaid
    graph TD
    A[–ò—Å—Ö–æ–¥–Ω–æ–µ –≤–∏–¥–µ–æ] --> B(–ê–Ω–∞–ª–∏–∑ –∞—É–¥–∏–æ)
    A --> C(–î–µ—Ç–µ–∫—Ü–∏—è –¥–≤–∏–∂–µ–Ω–∏—è)
    A --> D(–†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä–µ—á–∏)
    B --> E[–ê—É–¥–∏–æ-—Å–æ–±—ã—Ç–∏—è]
    C --> F[–°–æ–±—ã—Ç–∏—è –¥–≤–∏–∂–µ–Ω–∏—è]
    D --> G[–†–µ—á–µ–≤—ã–µ —Å–µ–≥–º–µ–Ω—Ç—ã]
    E --> H{–û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π}
    F --> H
    G --> H
    H --> I[–§–∏–Ω–∞–ª—å–Ω—ã–µ —Å–µ–≥–º–µ–Ω—Ç—ã]
    I --> J[–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–ª–∏–ø–æ–≤]
    J --> K[–°–±–æ—Ä–∫–∞ –≤–∏–¥–µ–æ]
    K --> L[–ì–æ—Ç–æ–≤—ã–π —Ö–∞–π–ª–∞–π—Ç]
```

## üîÑ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

1. –ê–ø–ø–∞—Ä–∞—Ç–Ω–æ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ:
    - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ NVIDIA CUDA —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã gpu_acceleration

    - –ü—Ä–∏–º–µ—Ä: ["-hwaccel", "cuda", "-hwaccel_output_format", "cuda"]

2. –ì–∏–±–∫–æ–µ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ:

    - –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∫–æ–¥–µ–∫–∞ —á–µ—Ä–µ–∑ Codec_Args

    - –ü—Ä–∏–º–µ—Ä: ["-c:v", "h264_nvenc", "-preset", "fast"]

3. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ:

    - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∞—É–¥–∏–æ/–≤–∏–¥–µ–æ –∞–Ω–∞–ª–∏–∑–∞

    - –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∫—ç—à-—Ñ–∞–π–ª–æ–≤

    - –£—Å–∫–æ—Ä–µ–Ω–∏–µ –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ç–µ—Ö –∂–µ –≤–∏–¥–µ–æ

4. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤:

    - –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–µ–≥–º–µ–Ω—Ç–æ–≤ –≤–∏–¥–µ–æ

    - –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á

    - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

5. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–µ–≤—å—é:

    - –°–æ–∑–¥–∞–Ω–∏–µ 30-—Å–µ–∫—É–Ω–¥–Ω–æ–≥–æ —É—Å–∫–æ—Ä–µ–Ω–Ω–æ–≥–æ –ø—Ä–µ–≤—å—é

    - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–µ–≥—É–ª–∏—Ä–æ–≤–∫–∞ —Å–∫–æ—Ä–æ—Å—Ç–∏

    - –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è

## üìä –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
# –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:

  - –ù–∞ 40% –±—ã—Å—Ç—Ä–µ–µ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –∑–∞ —Å—á—ë—Ç –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–∞

  - –ù–∞ 30% –º–µ–Ω—å—à–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏

  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥ –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã CPU/GPU

# –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:
```bash
# –î–ª—è –º–æ—â–Ω—ã—Ö —Å–∏—Å—Ç–µ–º
"Codec_Args": ["-c:v", "hevc_nvenc", "-preset", "p6", "-cq", "18"]

# –î–ª—è —Å–ª–∞–±—ã—Ö —Å–∏—Å—Ç–µ–º
"Codec_Args": ["-c:v", "h264_nvenc", "-preset", "fast"]
```
